exports.id=962,exports.ids=[962],exports.modules={62050:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,92639,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23)),Promise.resolve().then(r.t.bind(r,22816,23))},93668:(e,t,r)=>{Promise.resolve().then(r.bind(r,68644)),Promise.resolve().then(r.bind(r,92395)),Promise.resolve().then(r.bind(r,5637))},68644:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>u});var a=r(68819),s=r(66307),o=r(18019),n=r(50949),i=r(72795),c=r(77506),l=r(85999);let u=({...e})=>(0,a.jsx)(l.x7,{theme:"dark",className:"toaster group",icons:{success:(0,a.jsx)(s.Z,{className:"size-4"}),info:(0,a.jsx)(o.Z,{className:"size-4"}),warning:(0,a.jsx)(n.Z,{className:"size-4"}),error:(0,a.jsx)(i.Z,{className:"size-4"}),loading:(0,a.jsx)(c.Z,{className:"size-4 animate-spin"})},style:{"--normal-bg":"hsl(var(--background))","--normal-text":"hsl(var(--foreground))","--normal-border":"hsl(var(--border))","--border-radius":"0.5rem"},...e})},92395:(e,t,r)=>{"use strict";r.d(t,{StatsProvider:()=>c});var a=r(68819),s=r(17266),o=r(74131),n=r(18069);let i=(0,s.createContext)(void 0);function c({children:e}){let{token:t}=(0,o.a)(),[r,c]=(0,s.useState)({activeIntegrations:0,unreadMessages:0}),[l,u]=(0,s.useState)(!0),[d,m]=(0,s.useState)(null),g=async()=>{if(t)try{u(!0),m(null);let e=await (0,n.SC)("/analytics/dashboard",{},t);e.success?c(e.data):(console.warn("Error en respuesta de stats:",e.message),c({activeIntegrations:0,unreadMessages:0}))}catch(e){console.error("Error fetching stats:",e),c({activeIntegrations:0,unreadMessages:0})}finally{u(!1)}},p=async()=>{await g()};return(0,a.jsx)(i.Provider,{value:{stats:r,isLoading:l,error:d,refreshStats:p},children:e})}},5637:(e,t,r)=>{"use strict";r.d(t,{SubscriptionInfoProvider:()=>i});var a=r(68819),s=r(17266),o=r(74131);let n=(0,s.createContext)(void 0);function i({children:e}){let{user:t}=(0,o.a)(),[r,i]=(0,s.useState)(null),[c,l]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),[m,g]=(0,s.useState)(!0),[p,h]=(0,s.useState)(null),x=async()=>{if(!t?.id){g(!1);return}g(!0),h(null);try{let e=localStorage.getItem("token"),t=await fetch("/api/stripe/subscription-info",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){let e=await t.json();i(e.subscription||null),l(e.customer||null),d(e.paymentMethod||null)}else{let e=await t.json();h(e.error||"Error al cargar informaci\xf3n de suscripci\xf3n")}}catch(e){console.error("Error al cargar suscripci\xf3n",e),h("Error de conexi\xf3n al cargar suscripci\xf3n")}finally{g(!1)}};return(0,a.jsx)(n.Provider,{value:{subscription:r,customer:c,paymentMethod:u,loading:m,error:p,refetch:x},children:e})}},74131:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var a=r(17266);function s(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(null),[o,n]=(0,a.useState)(!0);return{user:e,token:r,setAuth:(e,r)=>{s(e),t(r),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(r))},clear:()=>{s(null),t(null),localStorage.removeItem("token"),localStorage.removeItem("user")},logout:()=>{console.log("\uD83D\uDD04 Logout manual iniciado..."),localStorage.removeItem("token"),localStorage.removeItem("user"),document.cookie="token=; Path=/; Max-Age=0; SameSite=Lax",sessionStorage.clear(),window.location.replace("/login")},isLoading:o,isAuthenticated:!!r&&!!e}}},18069:(e,t,r)=>{"use strict";r.d(t,{SC:()=>o,T5:()=>a,ZP:()=>d,aS:()=>c,oJ:()=>u,qL:()=>n,qi:()=>l,x4:()=>i});let a="https://nexly-production.up.railway.app".replace(/\/+$/,""),s=e=>`${a}${e.startsWith("/")?e:`/${e}`}`;async function o(e,t={},r){let a=r||function(){if("undefined"==typeof document)return;let e=document.cookie.match(/(?:^|;\s*)token=([^;]+)/);return e?decodeURIComponent(e[1]):void 0}(),n=await fetch(s(e),{...t,headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{},...t.headers||{}}});if(!n.ok){if(401===n.status)throw console.warn("\uD83D\uDD12 Token expirado detectado en:",e),console.warn("\uD83D\uDCC5 Timestamp:",new Date().toISOString()),localStorage.removeItem("token"),localStorage.removeItem("user"),document.cookie="token=; Path=/; Max-Age=0; SameSite=Lax",sessionStorage.clear(),console.warn("\uD83D\uDE80 Ejecutando logout autom\xe1tico..."),window.location.replace("/login"),Error("Sesi\xf3n expirada. Redirigiendo al login...");let t=`HTTP ${n.status}`;try{let e=await n.json();t=e?.message||e?.error||t}catch{}throw Error(t)}if(204!==n.status)return await n.json()}function n(e){return o("/auth/register",{method:"POST",body:JSON.stringify(e)})}function i(e){return o("/contacts/sync",{method:"POST"},e)}function c(e,t){return o(`/contacts/sync/provider/${e}`,{method:"POST"},t)}function l(e,t){let r=localStorage.getItem("token");return o("/ai/analyze",{method:"POST",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}},body:JSON.stringify({message:e,context:t})})}function u(e,t){let r=localStorage.getItem("token");return o("/ai/generate-response",{method:"POST",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}},body:JSON.stringify({message:e,businessContext:t})})}let d=o},37973:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>l,metadata:()=>u});var s=r(89351);r(5023);var o=r(81103),n=r(22401),i=r(68440),c=e([o,n,i]);[o,n,i]=c.then?(await c)():c;let u={title:"Nexly - Unifica WhatsApp Business, Instagram y Messenger",description:"Conecta WhatsApp Business Platform, Instagram y Messenger. Gestiona todas tus conversaciones, automatiza respuestas y convierte m\xe1s clientes.",icons:{icon:[{url:"/favicon.ico",sizes:"any"},{url:"/favicon-16x16.png",sizes:"16x16",type:"image/png"},{url:"/favicon-32x32.png",sizes:"32x32",type:"image/png"}],apple:"/favicon-32x32.png"}};function l({children:e}){return(0,s.jsxs)("html",{lang:"es",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon-16x16.png",sizes:"16x16",type:"image/png"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon-32x32.png",sizes:"32x32",type:"image/png"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"/favicon-32x32.png"})]}),(0,s.jsx)("body",{children:(0,s.jsx)(o.V,{children:(0,s.jsxs)(n.P,{children:[e,(0,s.jsx)(i.x,{})]})})})]})}a()}catch(e){a(e)}})},68440:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{x:()=>e});var s=r(71851);let e=(await (0,s.createProxy)(String.raw`C:\Users\Guido\Desktop\Guido\Nexly\web\src\components\ui\sonner.tsx`)).Toaster;a()}catch(e){a(e)}},1)},22401:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{P:()=>o});var s=r(71851);let e=await (0,s.createProxy)(String.raw`C:\Users\Guido\Desktop\Guido\Nexly\web\src\contexts\StatsContext.tsx`),o=e.StatsProvider;e.useStats,a()}catch(e){a(e)}},1)},81103:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{V:()=>o});var s=r(71851);let e=await (0,s.createProxy)(String.raw`C:\Users\Guido\Desktop\Guido\Nexly\web\src\contexts\SubscriptionInfoContext.tsx`),o=e.SubscriptionInfoProvider;e.useSubscriptionInfo,a()}catch(e){a(e)}},1)},5023:()=>{}};