(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2363],{86639:(e,t,a)=>{Promise.resolve().then(a.bind(a,57020))},16463:(e,t,a)=>{"use strict";var r=a(71169);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},57020:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(57437),s=a(2265),n=a(16463),l=a(87138),c=a(70640);function o(){let e=(0,n.useSearchParams)(),t=(0,n.useRouter)(),[a,o]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(""),[f,b]=(0,s.useState)(!1),[g,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{let t=e.get("token");if(!t){h("Token de recuperaci\xf3n no v\xe1lido");return}p(t)},[e]);let j=async e=>{if(e.preventDefault(),h(""),m(!0),a!==i){h("Las contrase\xf1as no coinciden"),m(!1);return}if(a.length<6){h("La contrase\xf1a debe tener al menos 6 caracteres"),m(!1);return}try{let e=await fetch("".concat("https://nexly-production.up.railway.app","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g,newPassword:a})});if(!e.ok){let t=await e.json().catch(()=>({message:"Error desconocido"}));throw Error(t.message||"Error al restablecer contrase\xf1a")}b(!0),setTimeout(()=>{t.push("/login")},2e3)}catch(e){h(e.message||"Error al restablecer contrase\xf1a")}finally{m(!1)}};return f?(0,r.jsx)("div",{className:"min-h-screen bg-accent-dark text-accent-cream flex items-center justify-center",children:(0,r.jsxs)("div",{className:"w-full max-w-md text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)(c.Z,{size:"lg"})}),(0,r.jsxs)("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-accent-cream",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-green-400 mb-2",children:"\xa1Contrase\xf1a actualizada!"}),(0,r.jsx)("p",{className:"text-green-300 mb-4",children:"Tu contrase\xf1a ha sido restablecida exitosamente."}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm",children:"Redirigiendo al login..."})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-accent-dark text-accent-cream flex items-center justify-center",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(c.Z,{size:"md"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-accent-cream",children:"Restablecer contrase\xf1a"}),(0,r.jsx)("p",{className:"text-neutral-400 mt-2",children:"Ingresa tu nueva contrase\xf1a"})]}),(0,r.jsxs)("form",{onSubmit:j,className:"space-y-6 bg-neutral-800 p-8 rounded-lg border border-neutral-700",children:[x&&(0,r.jsxs)("div",{className:"bg-red-900/20 border border-red-700 text-red-300 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Error:"}),(0,r.jsx)("p",{className:"text-sm",children:x})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Nueva contrase\xf1a"}),(0,r.jsx)("input",{type:"password",value:a,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-neutral-700 border border-neutral-600 rounded-lg text-accent-cream placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-nexly-teal focus:border-transparent",placeholder:"Ingresa tu nueva contrase\xf1a",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Confirmar contrase\xf1a"}),(0,r.jsx)("input",{type:"password",value:i,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-neutral-700 border border-neutral-600 rounded-lg text-accent-cream placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-nexly-teal focus:border-transparent",placeholder:"Confirma tu nueva contrase\xf1a",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:u||!g,className:"w-full bg-nexly-teal hover:bg-nexly-green disabled:bg-neutral-600 text-accent-cream font-semibold py-3 rounded-lg disabled:opacity-50 transition-colors duration-300",children:u?"Restableciendo...":"Restablecer contrase\xf1a"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(l.default,{href:"/login",className:"text-nexly-teal hover:text-nexly-green text-sm font-medium transition-colors duration-300",children:"Volver al login"})})]})]})})}function i(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-accent-dark text-accent-cream flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full"})}),children:(0,r.jsx)(o,{})})}},70640:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(57437),s=a(87138);function n(e){let{href:t="/",className:a="",showText:n=!1,textClassName:l="text-xl font-bold",size:c="md"}=e,o=(0,r.jsxs)("div",{className:"flex items-center gap-3 ".concat(a),children:[(0,r.jsx)("div",{className:"".concat({sm:"w-24",md:"w-32",lg:"w-40"}[c]," flex items-center justify-center"),children:(0,r.jsx)("img",{src:"/logo_nexly.png",alt:"Nexly Logo",className:"w-full h-full object-contain"})}),n&&(0,r.jsx)("span",{className:"".concat(l),children:"Nexly"})]});return t?(0,r.jsx)(s.default,{href:t,className:"inline-block hover:opacity-80 transition-opacity duration-300",children:o}):o}}},e=>{var t=t=>e(e.s=t);e.O(0,[7138,7130,6215,1744],()=>t(86639)),_N_E=e.O()}]);